name: Setup Windows

on:
  workflow_dispatch:
    inputs:
      authcode:
        description: 'Enter CRD code'
        required: true
      pincode:
        description: 'Six digit Pin'
        required: true

jobs:
  setup:
    runs-on: windows-latest

    steps:
      # Baixar o repositório
      - name: Checkout repository
        uses: actions/checkout@v2

      # Definir variáveis do fluxo de trabalho
      - name: Set variables
        run: |
          $authcode = '${{ github.event.inputs.authcode }}'
          $pincode = '${{ github.event.inputs.pincode }}'
          Write-Host "Starting setup with authcode: $authcode and pin: $pincode"

      # Executar o setup.ps1
      - name: setup.ps1
        shell: pwsh
        run: |
          Write-Host "Running setup.ps1..."
          .\setup.ps1
